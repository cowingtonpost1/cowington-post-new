/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function() {
var exports = {};
exports.id = "pages/api/graphql";
exports.ids = ["pages/api/graphql"];
exports.modules = {

/***/ "./models/article.model.ts":
/*!*********************************!*\
  !*** ./models/article.model.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ArticleSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  title: {\n    type: String,\n    required: [true, 'Please provide a title for this article.'],\n    maxlength: [60, 'Title cannot be more than 60 characters']\n  },\n  content: {\n    type: String,\n    required: true\n  },\n  writer: {\n    type: String,\n    required: [true, \"Please provide the writers username\"],\n    maxlength: [60, \"Writer's Name cannot be more than 60 characters\"]\n  },\n  date_posted: {\n    type: Date\n  },\n  date_created: {\n    required: true,\n    type: Date\n  },\n  posted: {\n    type: Boolean,\n    required: true\n  },\n  topic: {\n    type: String,\n    required: true\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Article) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Article', ArticleSchema));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL21vZGVscy9hcnRpY2xlLm1vZGVsLnRzPzc1YmIiXSwibmFtZXMiOlsiQXJ0aWNsZVNjaGVtYSIsIm1vbmdvb3NlIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhsZW5ndGgiLCJjb250ZW50Iiwid3JpdGVyIiwiZGF0ZV9wb3N0ZWQiLCJEYXRlIiwiZGF0ZV9jcmVhdGVkIiwicG9zdGVkIiwiQm9vbGVhbiIsInRvcGljIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBLE1BQU1BLGFBQWEsR0FBRyxJQUFJQyx3REFBSixDQUFvQjtBQUN0Q0MsT0FBSyxFQUFFO0FBQ0hDLFFBQUksRUFBRUMsTUFESDtBQUVIQyxZQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8sMENBQVAsQ0FGUDtBQUdIQyxhQUFTLEVBQUUsQ0FBQyxFQUFELEVBQUsseUNBQUw7QUFIUixHQUQrQjtBQU16Q0MsU0FBTyxFQUFFO0FBQ1JKLFFBQUksRUFBRUMsTUFERTtBQUVSQyxZQUFRLEVBQUU7QUFGRixHQU5nQztBQVV0Q0csUUFBTSxFQUFFO0FBQ0pMLFFBQUksRUFBRUMsTUFERjtBQUVKQyxZQUFRLEVBQUUsQ0FBQyxJQUFELEVBQU8scUNBQVAsQ0FGTjtBQUdKQyxhQUFTLEVBQUUsQ0FBQyxFQUFELEVBQUssaURBQUw7QUFIUCxHQVY4QjtBQWV0Q0csYUFBVyxFQUFFO0FBQ1ROLFFBQUksRUFBRU87QUFERyxHQWZ5QjtBQWtCekNDLGNBQVksRUFBRTtBQUNiTixZQUFRLEVBQUUsSUFERztBQUViRixRQUFJLEVBQUVPO0FBRk8sR0FsQjJCO0FBc0J6Q0UsUUFBTSxFQUFFO0FBQ1BULFFBQUksRUFBRVUsT0FEQztBQUVQUixZQUFRLEVBQUU7QUFGSCxHQXRCaUM7QUEwQnpDUyxPQUFLLEVBQUU7QUFDTlgsUUFBSSxFQUFFQyxNQURBO0FBRU5DLFlBQVEsRUFBRTtBQUZKO0FBMUJrQyxDQUFwQixDQUF0QjtBQWdDQSwrREFBZUosZ0VBQUEsSUFBMkJBLHFEQUFBLENBQWUsU0FBZixFQUEwQkQsYUFBMUIsQ0FBMUMiLCJmaWxlIjoiLi9tb2RlbHMvYXJ0aWNsZS5tb2RlbC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgQXJ0aWNsZVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGxlYXNlIHByb3ZpZGUgYSB0aXRsZSBmb3IgdGhpcyBhcnRpY2xlLiddLFxuICAgICAgICBtYXhsZW5ndGg6IFs2MCwgJ1RpdGxlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNjAgY2hhcmFjdGVycyddLFxuICAgIH0sXG5cdGNvbnRlbnQ6IHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IHRydWVcblx0fSxcbiAgICB3cml0ZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogW3RydWUsIFwiUGxlYXNlIHByb3ZpZGUgdGhlIHdyaXRlcnMgdXNlcm5hbWVcIl0sXG4gICAgICAgIG1heGxlbmd0aDogWzYwLCBcIldyaXRlcidzIE5hbWUgY2Fubm90IGJlIG1vcmUgdGhhbiA2MCBjaGFyYWN0ZXJzXCJdLFxuICAgIH0sXG4gICAgZGF0ZV9wb3N0ZWQ6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICB9LFxuXHRkYXRlX2NyZWF0ZWQ6IHtcblx0XHRyZXF1aXJlZDogdHJ1ZSxcblx0XHR0eXBlOiBEYXRlXG5cdH0sXG5cdHBvc3RlZDoge1xuXHRcdHR5cGU6IEJvb2xlYW4sXG5cdFx0cmVxdWlyZWQ6IHRydWVcblx0fSxcblx0dG9waWM6IHtcblx0XHR0eXBlOiBTdHJpbmcsXG5cdFx0cmVxdWlyZWQ6IHRydWVcblx0fVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLkFydGljbGUgfHwgbW9uZ29vc2UubW9kZWwoJ0FydGljbGUnLCBBcnRpY2xlU2NoZW1hKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./models/article.model.ts\n");

/***/ }),

/***/ "./models/image.model.ts":
/*!*******************************!*\
  !*** ./models/image.model.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ImageSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  date_created: {\n    type: Date,\n    required: true\n  },\n  date_posted: {\n    type: Date,\n    required: false\n  },\n  posted: {\n    type: Boolean,\n    required: true\n  },\n  url: {\n    type: String,\n    required: true\n  }\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.Image) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Image', ImageSchema));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL21vZGVscy9pbWFnZS5tb2RlbC50cz9jNDMxIl0sIm5hbWVzIjpbIkltYWdlU2NoZW1hIiwibW9uZ29vc2UiLCJkYXRlX2NyZWF0ZWQiLCJ0eXBlIiwiRGF0ZSIsInJlcXVpcmVkIiwiZGF0ZV9wb3N0ZWQiLCJwb3N0ZWQiLCJCb29sZWFuIiwidXJsIiwiU3RyaW5nIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBLE1BQU1BLFdBQVcsR0FBRyxJQUFJQyx3REFBSixDQUFvQjtBQUN2Q0MsY0FBWSxFQUFFO0FBQ2JDLFFBQUksRUFBRUMsSUFETztBQUViQyxZQUFRLEVBQUU7QUFGRyxHQUR5QjtBQUt2Q0MsYUFBVyxFQUFFO0FBQ1pILFFBQUksRUFBRUMsSUFETTtBQUVaQyxZQUFRLEVBQUU7QUFGRSxHQUwwQjtBQVN2Q0UsUUFBTSxFQUFFO0FBQ1BKLFFBQUksRUFBRUssT0FEQztBQUVQSCxZQUFRLEVBQUU7QUFGSCxHQVQrQjtBQWFwQ0ksS0FBRyxFQUFFO0FBQ1BOLFFBQUksRUFBRU8sTUFEQztBQUVQTCxZQUFRLEVBQUU7QUFGSDtBQWIrQixDQUFwQixDQUFwQjtBQW1CQSwrREFBZUosOERBQUEsSUFBeUJBLHFEQUFBLENBQWUsT0FBZixFQUF3QkQsV0FBeEIsQ0FBeEMiLCJmaWxlIjoiLi9tb2RlbHMvaW1hZ2UubW9kZWwudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IEltYWdlU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG5cdGRhdGVfY3JlYXRlZDoge1xuXHRcdHR5cGU6IERhdGUsXG5cdFx0cmVxdWlyZWQ6IHRydWVcblx0fSxcblx0ZGF0ZV9wb3N0ZWQ6IHtcblx0XHR0eXBlOiBEYXRlLFxuXHRcdHJlcXVpcmVkOiBmYWxzZSBcblx0fSxcblx0cG9zdGVkOiB7XG5cdFx0dHlwZTogQm9vbGVhbixcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9LFxuICAgIHVybDoge1xuXHRcdHR5cGU6IFN0cmluZyxcblx0XHRyZXF1aXJlZDogdHJ1ZVxuXHR9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuSW1hZ2UgfHwgbW9uZ29vc2UubW9kZWwoJ0ltYWdlJywgSW1hZ2VTY2hlbWEpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./models/image.model.ts\n");

/***/ }),

/***/ "./pages/api/graphql.ts":
/*!******************************!*\
  !*** ./pages/api/graphql.ts ***!
  \******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ handler; },\n/* harmony export */   \"config\": function() { return /* binding */ config; }\n/* harmony export */ });\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! apollo-server-micro */ \"apollo-server-micro\");\n/* harmony import */ var apollo_server_micro__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models_article_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models/article.model */ \"./models/article.model.ts\");\n/* harmony import */ var _models_image_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/image.model */ \"./models/image.model.ts\");\n/* harmony import */ var _utils_dbConnect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/dbConnect */ \"./utils/dbConnect.js\");\n/* harmony import */ var _utils_getOrSetCache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/getOrSetCache */ \"./utils/getOrSetCache.ts\");\n\n\n\n\n\nconst typeDefs = apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.gql`\n    type Query {\n        articles(topic: String!): [Article!]!\n\t\tarticle(id: ID!): Article\n\t\timages: [Image!]!\n    }\n    type Article {\n        _id: ID!\n        title: String!\n        content: String!\n        date_created: String!\n        date_posted: String\n        posted: Boolean\n    }\n\ttype Image {\n\t\t_id: ID!\n\t\tdate_created: String!\n\t\tdate_posted: String!\n\t\tposted: Boolean\n\t\turl: String\n\t}\n`;\nconst resolvers = {\n  Query: {\n    async images(parent, args, context) {\n      const image = await (0,_utils_getOrSetCache__WEBPACK_IMPORTED_MODULE_4__.default)('gql:/images/', async () => {\n        await (0,_utils_dbConnect__WEBPACK_IMPORTED_MODULE_3__.default)();\n        return await _models_image_model__WEBPACK_IMPORTED_MODULE_2__.default.find({});\n      });\n      return image;\n    },\n\n    async article(parent, args, context) {\n      const article = await (0,_utils_getOrSetCache__WEBPACK_IMPORTED_MODULE_4__.default)('gql:/article/' + args.id, async () => {\n        await (0,_utils_dbConnect__WEBPACK_IMPORTED_MODULE_3__.default)();\n        return await _models_article_model__WEBPACK_IMPORTED_MODULE_1__.default.findOne({\n          _id: args.id\n        });\n      });\n      return await article;\n    },\n\n    async articles(parent, args, context) {\n      // const articles = await Article.find({ posted: true })\n      const articles = await (0,_utils_getOrSetCache__WEBPACK_IMPORTED_MODULE_4__.default)('gql:/articles/' + args.topic, async () => {\n        await (0,_utils_dbConnect__WEBPACK_IMPORTED_MODULE_3__.default)();\n        return await _models_article_model__WEBPACK_IMPORTED_MODULE_1__.default.find({\n          topic: args.topic,\n          posted: true\n        }).sort({\n          date_posted: 'desc'\n        });\n      });\n      console.log(articles);\n      var aarticles = [];\n      articles.map(article => {\n        aarticles.push({\n          _id: article._id,\n          title: article.title,\n          date_posted: article.date_posted,\n          date_created: article.date_created,\n          content: article.content\n        });\n      });\n      return articles;\n    }\n\n  }\n};\nconst apolloServer = new apollo_server_micro__WEBPACK_IMPORTED_MODULE_0__.ApolloServer({\n  typeDefs,\n  resolvers\n});\nconst startServer = apolloServer.start();\nasync function handler(req, res) {\n  res.setHeader('Access-Control-Allow-Credentials', 'true');\n  res.setHeader('Access-Control-Allow-Origin', 'https://studio.apollographql.com');\n  res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept');\n\n  if (req.method === 'OPTIONS') {\n    res.end();\n    return false;\n  }\n\n  await startServer;\n  await apolloServer.createHandler({\n    path: '/api/graphql'\n  })(req, res);\n}\nconst config = {\n  api: {\n    bodyParser: false\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL3BhZ2VzL2FwaS9ncmFwaHFsLnRzPzE2NmIiXSwibmFtZXMiOlsidHlwZURlZnMiLCJncWwiLCJyZXNvbHZlcnMiLCJRdWVyeSIsImltYWdlcyIsInBhcmVudCIsImFyZ3MiLCJjb250ZXh0IiwiaW1hZ2UiLCJnZXRPclNldENhY2hlIiwiZGJDb25uZWN0IiwiSW1hZ2UiLCJhcnRpY2xlIiwiaWQiLCJBcnRpY2xlIiwiX2lkIiwiYXJ0aWNsZXMiLCJ0b3BpYyIsInBvc3RlZCIsInNvcnQiLCJkYXRlX3Bvc3RlZCIsImNvbnNvbGUiLCJsb2ciLCJhYXJ0aWNsZXMiLCJtYXAiLCJwdXNoIiwidGl0bGUiLCJkYXRlX2NyZWF0ZWQiLCJjb250ZW50IiwiYXBvbGxvU2VydmVyIiwiQXBvbGxvU2VydmVyIiwic3RhcnRTZXJ2ZXIiLCJzdGFydCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJtZXRob2QiLCJlbmQiLCJjcmVhdGVIYW5kbGVyIiwicGF0aCIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLE1BQU1BLFFBQVEsR0FBR0Msb0RBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBckJBO0FBdUJBLE1BQU1DLFNBQVMsR0FBRztBQUNkQyxPQUFLLEVBQUU7QUFDSCxVQUFNQyxNQUFOLENBQWFDLE1BQWIsRUFBcUJDLElBQXJCLEVBQTJCQyxPQUEzQixFQUFvQztBQUNoQyxZQUFNQyxLQUFVLEdBQUcsTUFBTUMsNkRBQWEsQ0FBQyxjQUFELEVBQWlCLFlBQVk7QUFDL0QsY0FBTUMseURBQVMsRUFBZjtBQUNBLGVBQU8sTUFBTUMsNkRBQUEsQ0FBVyxFQUFYLENBQWI7QUFDSCxPQUhxQyxDQUF0QztBQUlULGFBQU9ILEtBQVA7QUFDTSxLQVBFOztBQVFILFVBQU1JLE9BQU4sQ0FBY1AsTUFBZCxFQUFzQkMsSUFBdEIsRUFBNEJDLE9BQTVCLEVBQXFDO0FBQ2pDLFlBQU1LLE9BQVksR0FBRyxNQUFNSCw2REFBYSxDQUNwQyxrQkFBa0JILElBQUksQ0FBQ08sRUFEYSxFQUVwQyxZQUFZO0FBQ1IsY0FBTUgseURBQVMsRUFBZjtBQUNBLGVBQU8sTUFBTUksa0VBQUEsQ0FBZ0I7QUFBRUMsYUFBRyxFQUFFVCxJQUFJLENBQUNPO0FBQVosU0FBaEIsQ0FBYjtBQUNILE9BTG1DLENBQXhDO0FBT0EsYUFBTyxNQUFNRCxPQUFiO0FBQ0gsS0FqQkU7O0FBa0JILFVBQU1JLFFBQU4sQ0FBZVgsTUFBZixFQUF1QkMsSUFBdkIsRUFBNkJDLE9BQTdCLEVBQXNDO0FBQ2xDO0FBQ0EsWUFBTVMsUUFBYSxHQUFHLE1BQU1QLDZEQUFhLENBQ3JDLG1CQUFtQkgsSUFBSSxDQUFDVyxLQURhLEVBRXJDLFlBQVk7QUFDUixjQUFNUCx5REFBUyxFQUFmO0FBQ0EsZUFBTyxNQUFNSSwrREFBQSxDQUFhO0FBQ3RCRyxlQUFLLEVBQUVYLElBQUksQ0FBQ1csS0FEVTtBQUV0QkMsZ0JBQU0sRUFBRTtBQUZjLFNBQWIsRUFHVkMsSUFIVSxDQUdMO0FBQUVDLHFCQUFXLEVBQUU7QUFBZixTQUhLLENBQWI7QUFJSCxPQVJvQyxDQUF6QztBQVVBQyxhQUFPLENBQUNDLEdBQVIsQ0FBWU4sUUFBWjtBQUNBLFVBQUlPLFNBQVMsR0FBRyxFQUFoQjtBQUNBUCxjQUFRLENBQUNRLEdBQVQsQ0FBY1osT0FBRCxJQUFhO0FBQ3RCVyxpQkFBUyxDQUFDRSxJQUFWLENBQWU7QUFDWFYsYUFBRyxFQUFFSCxPQUFPLENBQUNHLEdBREY7QUFFWFcsZUFBSyxFQUFFZCxPQUFPLENBQUNjLEtBRko7QUFHWE4scUJBQVcsRUFBRVIsT0FBTyxDQUFDUSxXQUhWO0FBSVhPLHNCQUFZLEVBQUVmLE9BQU8sQ0FBQ2UsWUFKWDtBQUtYQyxpQkFBTyxFQUFFaEIsT0FBTyxDQUFDZ0I7QUFMTixTQUFmO0FBT0gsT0FSRDtBQVNBLGFBQU9aLFFBQVA7QUFDSDs7QUExQ0U7QUFETyxDQUFsQjtBQStDQSxNQUFNYSxZQUFZLEdBQUcsSUFBSUMsNkRBQUosQ0FBaUI7QUFBRTlCLFVBQUY7QUFBWUU7QUFBWixDQUFqQixDQUFyQjtBQUVBLE1BQU02QixXQUFXLEdBQUdGLFlBQVksQ0FBQ0csS0FBYixFQUFwQjtBQUVlLGVBQWVDLE9BQWYsQ0FBdUJDLEdBQXZCLEVBQTRCQyxHQUE1QixFQUFpQztBQUM1Q0EsS0FBRyxDQUFDQyxTQUFKLENBQWMsa0NBQWQsRUFBa0QsTUFBbEQ7QUFDQUQsS0FBRyxDQUFDQyxTQUFKLENBQ0ksNkJBREosRUFFSSxrQ0FGSjtBQUlBRCxLQUFHLENBQUNDLFNBQUosQ0FDSSw4QkFESixFQUVJLGdEQUZKOztBQUlBLE1BQUlGLEdBQUcsQ0FBQ0csTUFBSixLQUFlLFNBQW5CLEVBQThCO0FBQzFCRixPQUFHLENBQUNHLEdBQUo7QUFDQSxXQUFPLEtBQVA7QUFDSDs7QUFFRCxRQUFNUCxXQUFOO0FBQ0EsUUFBTUYsWUFBWSxDQUFDVSxhQUFiLENBQTJCO0FBQzdCQyxRQUFJLEVBQUU7QUFEdUIsR0FBM0IsRUFFSE4sR0FGRyxFQUVFQyxHQUZGLENBQU47QUFHSDtBQUVNLE1BQU1NLE1BQU0sR0FBRztBQUNsQkMsS0FBRyxFQUFFO0FBQ0RDLGNBQVUsRUFBRTtBQURYO0FBRGEsQ0FBZiIsImZpbGUiOiIuL3BhZ2VzL2FwaS9ncmFwaHFsLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvU2VydmVyLCBncWwgfSBmcm9tICdhcG9sbG8tc2VydmVyLW1pY3JvJ1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJ1xuaW1wb3J0IEFydGljbGUgZnJvbSAnLi4vLi4vbW9kZWxzL2FydGljbGUubW9kZWwnXG5pbXBvcnQgSW1hZ2UgZnJvbSAnLi4vLi4vbW9kZWxzL2ltYWdlLm1vZGVsJ1xuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICcuLi8uLi91dGlscy9kYkNvbm5lY3QnXG5pbXBvcnQgZ2V0T3JTZXRDYWNoZSBmcm9tICcuLi8uLi91dGlscy9nZXRPclNldENhY2hlJ1xuXG5jb25zdCB0eXBlRGVmcyA9IGdxbGBcbiAgICB0eXBlIFF1ZXJ5IHtcbiAgICAgICAgYXJ0aWNsZXModG9waWM6IFN0cmluZyEpOiBbQXJ0aWNsZSFdIVxuXHRcdGFydGljbGUoaWQ6IElEISk6IEFydGljbGVcblx0XHRpbWFnZXM6IFtJbWFnZSFdIVxuICAgIH1cbiAgICB0eXBlIEFydGljbGUge1xuICAgICAgICBfaWQ6IElEIVxuICAgICAgICB0aXRsZTogU3RyaW5nIVxuICAgICAgICBjb250ZW50OiBTdHJpbmchXG4gICAgICAgIGRhdGVfY3JlYXRlZDogU3RyaW5nIVxuICAgICAgICBkYXRlX3Bvc3RlZDogU3RyaW5nXG4gICAgICAgIHBvc3RlZDogQm9vbGVhblxuICAgIH1cblx0dHlwZSBJbWFnZSB7XG5cdFx0X2lkOiBJRCFcblx0XHRkYXRlX2NyZWF0ZWQ6IFN0cmluZyFcblx0XHRkYXRlX3Bvc3RlZDogU3RyaW5nIVxuXHRcdHBvc3RlZDogQm9vbGVhblxuXHRcdHVybDogU3RyaW5nXG5cdH1cbmBcblxuY29uc3QgcmVzb2x2ZXJzID0ge1xuICAgIFF1ZXJ5OiB7XG4gICAgICAgIGFzeW5jIGltYWdlcyhwYXJlbnQsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlOiBhbnkgPSBhd2FpdCBnZXRPclNldENhY2hlKCdncWw6L2ltYWdlcy8nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGJDb25uZWN0KClcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgSW1hZ2UuZmluZCh7fSlcbiAgICAgICAgICAgIH0pXG5cdFx0XHRyZXR1cm4gaW1hZ2VcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgYXJ0aWNsZShwYXJlbnQsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGFydGljbGU6IGFueSA9IGF3YWl0IGdldE9yU2V0Q2FjaGUoXG4gICAgICAgICAgICAgICAgJ2dxbDovYXJ0aWNsZS8nICsgYXJncy5pZCxcbiAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBBcnRpY2xlLmZpbmRPbmUoeyBfaWQ6IGFyZ3MuaWQgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgYXJ0aWNsZVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBhcnRpY2xlcyhwYXJlbnQsIGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIC8vIGNvbnN0IGFydGljbGVzID0gYXdhaXQgQXJ0aWNsZS5maW5kKHsgcG9zdGVkOiB0cnVlIH0pXG4gICAgICAgICAgICBjb25zdCBhcnRpY2xlczogYW55ID0gYXdhaXQgZ2V0T3JTZXRDYWNoZShcbiAgICAgICAgICAgICAgICAnZ3FsOi9hcnRpY2xlcy8nICsgYXJncy50b3BpYyxcbiAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBBcnRpY2xlLmZpbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9waWM6IGFyZ3MudG9waWMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pLnNvcnQoeyBkYXRlX3Bvc3RlZDogJ2Rlc2MnIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYXJ0aWNsZXMpXG4gICAgICAgICAgICB2YXIgYWFydGljbGVzID0gW11cbiAgICAgICAgICAgIGFydGljbGVzLm1hcCgoYXJ0aWNsZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFhcnRpY2xlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBhcnRpY2xlLl9pZCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFydGljbGUudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGVfcG9zdGVkOiBhcnRpY2xlLmRhdGVfcG9zdGVkLFxuICAgICAgICAgICAgICAgICAgICBkYXRlX2NyZWF0ZWQ6IGFydGljbGUuZGF0ZV9jcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBhcnRpY2xlLmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICByZXR1cm4gYXJ0aWNsZXNcbiAgICAgICAgfSxcbiAgICB9LFxufVxuXG5jb25zdCBhcG9sbG9TZXJ2ZXIgPSBuZXcgQXBvbGxvU2VydmVyKHsgdHlwZURlZnMsIHJlc29sdmVycyB9KVxuXG5jb25zdCBzdGFydFNlcnZlciA9IGFwb2xsb1NlcnZlci5zdGFydCgpXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgICByZXMuc2V0SGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJylcbiAgICByZXMuc2V0SGVhZGVyKFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJyxcbiAgICAgICAgJ2h0dHBzOi8vc3R1ZGlvLmFwb2xsb2dyYXBocWwuY29tJ1xuICAgIClcbiAgICByZXMuc2V0SGVhZGVyKFxuICAgICAgICAnQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsXG4gICAgICAgICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0J1xuICAgIClcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICAgIHJlcy5lbmQoKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBhd2FpdCBzdGFydFNlcnZlclxuICAgIGF3YWl0IGFwb2xsb1NlcnZlci5jcmVhdGVIYW5kbGVyKHtcbiAgICAgICAgcGF0aDogJy9hcGkvZ3JhcGhxbCcsXG4gICAgfSkocmVxLCByZXMpXG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gICAgYXBpOiB7XG4gICAgICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxuICAgIH0sXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/graphql.ts\n");

/***/ }),

/***/ "./utils/dbConnect.js":
/*!****************************!*\
  !*** ./utils/dbConnect.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\nif (!MONGODB_URI) {\n  throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\n/**\n * Global is used here to maintain a cached connection across hot reloads\n * in development. This prevents connections growing exponentially\n * during API Route usage.\n */\n\n\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = {\n    conn: null,\n    promise: null\n  };\n}\n\nasync function dbConnect() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    const opts = {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n      bufferCommands: false,\n      bufferMaxEntries: 0,\n      useFindAndModify: false,\n      useCreateIndex: true\n    };\n    cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then(mongoose => {\n      return mongoose;\n    });\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (dbConnect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL3V0aWxzL2RiQ29ubmVjdC5qcz80NmUyIl0sIm5hbWVzIjpbIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwibW9uZ29vc2UiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsIm9wdHMiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJidWZmZXJDb21tYW5kcyIsImJ1ZmZlck1heEVudHJpZXMiLCJ1c2VGaW5kQW5kTW9kaWZ5IiwidXNlQ3JlYXRlSW5kZXgiLCJ0aGVuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUVBLE1BQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFdBQWhDOztBQUVBLElBQUksQ0FBQ0EsV0FBTCxFQUFrQjtBQUNkLFFBQU0sSUFBSUcsS0FBSixDQUNGLHNFQURFLENBQU47QUFHSDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBLElBQUlDLE1BQU0sR0FBR0MsTUFBTSxDQUFDQyxRQUFwQjs7QUFFQSxJQUFJLENBQUNGLE1BQUwsRUFBYTtBQUNUQSxRQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsUUFBUCxHQUFrQjtBQUFFQyxRQUFJLEVBQUUsSUFBUjtBQUFjQyxXQUFPLEVBQUU7QUFBdkIsR0FBM0I7QUFDSDs7QUFFRCxlQUFlQyxTQUFmLEdBQTJCO0FBQ3ZCLE1BQUlMLE1BQU0sQ0FBQ0csSUFBWCxFQUFpQjtBQUNiLFdBQU9ILE1BQU0sQ0FBQ0csSUFBZDtBQUNIOztBQUVELE1BQUksQ0FBQ0gsTUFBTSxDQUFDSSxPQUFaLEVBQXFCO0FBQ2pCLFVBQU1FLElBQUksR0FBRztBQUNUQyxxQkFBZSxFQUFFLElBRFI7QUFFVEMsd0JBQWtCLEVBQUUsSUFGWDtBQUdUQyxvQkFBYyxFQUFFLEtBSFA7QUFJVEMsc0JBQWdCLEVBQUUsQ0FKVDtBQUtUQyxzQkFBZ0IsRUFBRSxLQUxUO0FBTVRDLG9CQUFjLEVBQUU7QUFOUCxLQUFiO0FBU0FaLFVBQU0sQ0FBQ0ksT0FBUCxHQUFpQkYsdURBQUEsQ0FDSk4sV0FESSxFQUNTVSxJQURULEVBRVpPLElBRlksQ0FFTlgsUUFBRCxJQUFjO0FBQ2hCLGFBQU9BLFFBQVA7QUFDSCxLQUpZLENBQWpCO0FBS0g7O0FBQ0RGLFFBQU0sQ0FBQ0csSUFBUCxHQUFjLE1BQU1ILE1BQU0sQ0FBQ0ksT0FBM0I7QUFDQSxTQUFPSixNQUFNLENBQUNHLElBQWQ7QUFDSDs7QUFFRCwrREFBZUUsU0FBZiIsImZpbGUiOiIuL3V0aWxzL2RiQ29ubmVjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSVxuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXG4gICAgKVxufVxuXG4vKipcbiAqIEdsb2JhbCBpcyB1c2VkIGhlcmUgdG8gbWFpbnRhaW4gYSBjYWNoZWQgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxuICogZHVyaW5nIEFQSSBSb3V0ZSB1c2FnZS5cbiAqL1xubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZVxuXG5pZiAoIWNhY2hlZCkge1xuICAgIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcbiAgICBpZiAoY2FjaGVkLmNvbm4pIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlZC5jb25uXG4gICAgfVxuXG4gICAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgICAgICBjb25zdCBvcHRzID0ge1xuICAgICAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICAgICAgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlLFxuICAgICAgICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxuICAgICAgICAgICAgYnVmZmVyTWF4RW50cmllczogMCxcbiAgICAgICAgICAgIHVzZUZpbmRBbmRNb2RpZnk6IGZhbHNlLFxuICAgICAgICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgICAgIH1cblxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlXG4gICAgICAgICAgICAuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cylcbiAgICAgICAgICAgIC50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb25nb29zZVxuICAgICAgICAgICAgfSlcbiAgICB9XG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZVxuICAgIHJldHVybiBjYWNoZWQuY29ublxufVxuXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3RcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/dbConnect.js\n");

/***/ }),

/***/ "./utils/getOrSetCache.ts":
/*!********************************!*\
  !*** ./utils/getOrSetCache.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _redisConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./redisConnect */ \"./utils/redisConnect.ts\");\n\n\nconst getOrSetCache = (key, cb) => {\n  return new Promise((resolve, reject) => {\n    const redisClient = (0,_redisConnect__WEBPACK_IMPORTED_MODULE_0__.default)();\n    redisClient.get(key, async (error, data) => {\n      if (error) return reject(error);\n      if (data != null) return resolve(JSON.parse(data));\n      const freshData = await cb();\n      redisClient.setex(key, Number(process.env.REDIS_DEFAULT_EXPIRATION), JSON.stringify(freshData));\n      resolve(freshData);\n    });\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (getOrSetCache);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL3V0aWxzL2dldE9yU2V0Q2FjaGUudHM/NDMxYSJdLCJuYW1lcyI6WyJnZXRPclNldENhY2hlIiwia2V5IiwiY2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlZGlzQ2xpZW50IiwicmVkaXNDb25uZWN0IiwiZ2V0IiwiZXJyb3IiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiZnJlc2hEYXRhIiwic2V0ZXgiLCJOdW1iZXIiLCJwcm9jZXNzIiwiZW52IiwiUkVESVNfREVGQVVMVF9FWFBJUkFUSU9OIiwic3RyaW5naWZ5Il0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUVBLE1BQU1BLGFBQWEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEVBQU4sS0FBYTtBQUNsQyxTQUFPLElBQUlDLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFDdkMsVUFBTUMsV0FBVyxHQUFHQyxzREFBWSxFQUFoQztBQUNBRCxlQUFXLENBQUNFLEdBQVosQ0FBZ0JQLEdBQWhCLEVBQXFCLE9BQU9RLEtBQVAsRUFBY0MsSUFBZCxLQUF1QjtBQUMzQyxVQUFHRCxLQUFILEVBQVUsT0FBT0osTUFBTSxDQUFDSSxLQUFELENBQWI7QUFDVixVQUFHQyxJQUFJLElBQUksSUFBWCxFQUFpQixPQUFPTixPQUFPLENBQUNPLElBQUksQ0FBQ0MsS0FBTCxDQUFXRixJQUFYLENBQUQsQ0FBZDtBQUNqQixZQUFNRyxTQUFTLEdBQUcsTUFBTVgsRUFBRSxFQUExQjtBQUNBSSxpQkFBVyxDQUFDUSxLQUFaLENBQWtCYixHQUFsQixFQUF1QmMsTUFBTSxDQUFDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsd0JBQWIsQ0FBN0IsRUFBcUVQLElBQUksQ0FBQ1EsU0FBTCxDQUFlTixTQUFmLENBQXJFO0FBQ0FULGFBQU8sQ0FBQ1MsU0FBRCxDQUFQO0FBQ0EsS0FORDtBQU9BLEdBVE0sQ0FBUDtBQVVBLENBWEQ7O0FBWUEsK0RBQWViLGFBQWYiLCJmaWxlIjoiLi91dGlscy9nZXRPclNldENhY2hlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZGlzQ29ubmVjdCBmcm9tICcuL3JlZGlzQ29ubmVjdCdcblxuY29uc3QgZ2V0T3JTZXRDYWNoZSA9IChrZXksIGNiKSA9PiB7XG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0Y29uc3QgcmVkaXNDbGllbnQgPSByZWRpc0Nvbm5lY3QoKVxuXHRcdHJlZGlzQ2xpZW50LmdldChrZXksIGFzeW5jIChlcnJvciwgZGF0YSkgPT4ge1xuXHRcdFx0aWYoZXJyb3IpIHJldHVybiByZWplY3QoZXJyb3IpXG5cdFx0XHRpZihkYXRhICE9IG51bGwpIHJldHVybiByZXNvbHZlKEpTT04ucGFyc2UoZGF0YSkpXG5cdFx0XHRjb25zdCBmcmVzaERhdGEgPSBhd2FpdCBjYigpXG5cdFx0XHRyZWRpc0NsaWVudC5zZXRleChrZXksIE51bWJlcihwcm9jZXNzLmVudi5SRURJU19ERUZBVUxUX0VYUElSQVRJT04pLCBKU09OLnN0cmluZ2lmeShmcmVzaERhdGEpKVxuXHRcdFx0cmVzb2x2ZShmcmVzaERhdGEpXG5cdFx0fSlcblx0fSlcbn1cbmV4cG9ydCBkZWZhdWx0IGdldE9yU2V0Q2FjaGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/getOrSetCache.ts\n");

/***/ }),

/***/ "./utils/redisConnect.ts":
/*!*******************************!*\
  !*** ./utils/redisConnect.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst redisConnect = () => {\n  return redis__WEBPACK_IMPORTED_MODULE_0___default().createClient(process.env.REDIS_URL);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (redisConnect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb3dpbmd0b24tcG9zdC8uL3V0aWxzL3JlZGlzQ29ubmVjdC50cz83MDM1Il0sIm5hbWVzIjpbInJlZGlzQ29ubmVjdCIsInJlZGlzIiwicHJvY2VzcyIsImVudiIsIlJFRElTX1VSTCJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0FBQ0EsTUFBTUEsWUFBWSxHQUFHLE1BQU07QUFDMUIsU0FBT0MseURBQUEsQ0FBbUJDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUEvQixDQUFQO0FBQ0EsQ0FGRDs7QUFHQSwrREFBZUosWUFBZiIsImZpbGUiOiIuL3V0aWxzL3JlZGlzQ29ubmVjdC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWRpcyBmcm9tICdyZWRpcydcbmNvbnN0IHJlZGlzQ29ubmVjdCA9ICgpID0+IHtcblx0cmV0dXJuIHJlZGlzLmNyZWF0ZUNsaWVudChwcm9jZXNzLmVudi5SRURJU19VUkwpXG59XG5leHBvcnQgZGVmYXVsdCByZWRpc0Nvbm5lY3Q7XG5cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/redisConnect.ts\n");

/***/ }),

/***/ "apollo-server-micro":
/*!**************************************!*\
  !*** external "apollo-server-micro" ***!
  \**************************************/
/***/ (function(module) {

"use strict";
module.exports = require("apollo-server-micro");;

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ (function(module) {

"use strict";
module.exports = require("mongoose");;

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/***/ (function(module) {

"use strict";
module.exports = require("redis");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
var __webpack_exports__ = (__webpack_exec__("./pages/api/graphql.ts"));
module.exports = __webpack_exports__;

})();